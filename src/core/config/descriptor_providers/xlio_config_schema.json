{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "title": "XLIO Configuration Schema",
    "description": "Schema for XLIO configuration, used to validate the configuration files.",
    "type": "object",
    "properties": {
        "core": {
            "type": "object",
            "description": "includes fundamental system or application configurations, focusing on essential functionalities like logging, statistics collection, initialization processes, CPU usage, memory management, exception handling, and signal processing.",
            "properties": {
                "append_pid_to_path": {
                    "type": "boolean",
                    "default": false,
                    "description": "Append PID to xlio.daemon.dir, core.stats.shmem_dir, core.stats.file_path, core.log.file_path."
                },
                "log": {
                    "type": "object",
                    "description": "controls logging behavior, including verbosity level and output destinations.",
                    "properties": {
                        "level": {
                            "oneOf": [
                                {
                                    "type": "integer",
                                    "enum": [
                                        -2,
                                        -1,
                                        0,
                                        1,
                                        2,
                                        3,
                                        4,
                                        5,
                                        6,
                                        7,
                                        8
                                    ],
                                    "default": 3
                                },
                                {
                                    "type": "string",
                                    "enum": [
                                        "init",
                                        "none",
                                        "panic",
                                        "error",
                                        "warn",
                                        "info",
                                        "details",
                                        "debug",
                                        "fine",
                                        "finer",
                                        "all"
                                    ],
                                    "default": "info"
                                }
                            ],
                            "description": "Sets level according to desired logging verbosity. (maps to XLIO_TRACELEVEL. Default is info.)"
                        },
                        "file_path": {
                            "type": "string",
                            "default": "",
                            "description": "Path to the log file. An empty string disables file logging. (maps to XLIO_LOG_FILE)"
                        }
                    }
                },
                "exit_report": {
                    "type": "boolean",
                    "default": false,
                    "description": "Enable printing a summary report on library exit. (maps to XLIO_PRINT_REPORT)"
                },
                "stats": {
                    "type": "object",
                    "description": "controls statistics collection and behavior.",
                    "properties": {
                        "file_path": {
                            "type": "string",
                            "default": "",
                            "description": "Path to the stats file; empty string disables stats logging. (maps to XLIO_STATS_FILE)"
                        },
                        "fd_num": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 1024,
                            "default": 100,
                            "description": "Maximum number of file descriptors tracked for stats (maps to XLIO_STATS_FD_NUM)."
                        },
                        "shmem_dir": {
                            "type": "string",
                            "default": "/tmp/libxlio",
                            "description": "Directory for shared memory usage (maps to XLIO_STATS_SHMEM_DIR)."
                        },
                        "cpu_usage": {
                            "type": "boolean",
                            "default": false,
                            "description": "Enable per-CPU statistics collection. (maps to XLIO_CPU_USAGE_STATS)"
                        }
                    }
                },
                "init": {
                    "type": "object",
                    "description": "controls initialization processes and behavior.",
                    "properties": {
                        "quick": {
                            "type": "boolean",
                            "default": true,
                            "description": "Skip extended initialization steps if true. (maps to XLIO_QUICK_START)"
                        }
                    }
                },
                "cpu": {
                    "type": "object",
                    "description": "controls CPU usage and behavior.",
                    "properties": {
                        "affinity": {
                            "type": "string",
                            "default": "-1",
                            "description": "Comma delimited CPU list; -1 means no affinity. (maps to XLIO_INTERNAL_THREAD_AFFINITY)"
                        },
                        "cpuset": {
                            "type": "string",
                            "default": "",
                            "description": "Path to a cpuset (e.g. /dev/cpuset/my_set); empty means none. (maps to XLIO_INTERNAL_THREAD_CPUSET)"
                        }
                    }
                },
                "syscall": {
                    "type": "object",
                    "description": "controls system call behavior.",
                    "properties": {
                        "dup2_support": {
                            "type": "boolean",
                            "default": true,
                            "description": "Allow dup2 calls to propagate."
                        }
                    }
                },
                "exception": {
                    "type": "object",
                    "description": "controls exception handling behavior.",
                    "properties": {
                        "mode": {
                            "oneOf": [
                                {
                                    "type": "integer",
                                    "enum": [
                                        -2,
                                        -1,
                                        0,
                                        1,
                                        2,
                                        3
                                    ],
                                    "default": -1
                                },
                                {
                                    "type": "string",
                                    "enum": [
                                        "exit",
                                        "handle_debug",
                                        "log_debug_undo_offload",
                                        "log_error_undo_offload",
                                        "log_error_return_error",
                                        "log_error_abort"
                                    ],
                                    "default": "handle_debug"
                                }
                            ],
                            "description": "Controls internal exception handling mode (maps to XLIO_EXCEPTION_HANDLING)."
                        }
                    }
                },
                "memory": {
                    "type": "object",
                    "description": "controls memory allocation and behavior.",
                    "properties": {
                        "heap_metadata_block_size": {
                            "type": "integer",
                            "default": 33554432,
                            "description": "Determines the metadata block size added to every heap allocation (maps to XLIO_HEAP_METADATA_BLOCK)."
                        },
                        "hugepages": {
                            "type": "object",
                            "description": "controls hugepages allocation and behavior.",
                            "properties": {
                                "enable": {
                                    "type": "boolean",
                                    "default": true,
                                    "description": "Enable hugepages if available (maps to XLIO_MEM_ALLOC_TYPE)."
                                },
                                "size": {
                                    "type": "integer",
                                    "default": 0,
                                    "description": "Requested hugepage size; 0 uses the OS default. (maps to XLIO_HUGEPAGE_SIZE)."
                                }
                            }
                        },
                        "limit": {
                            "type": "integer",
                            "default": 2147483648,
                            "description": "Overall memory limit (0 means unlimited, maps to XLIO_MEMORY_LIMIT)."
                        }
                    }
                },
                "handlers": {
                    "type": "object",
                    "description": "controls internal threads' tasks and behavior.",
                    "properties": {
                        "timer_msec": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 10,
                            "description": "Interval (in milliseconds) for internal threads' tasks. (maps to XLIO_TIMER_RESOLUTION_MSEC)."
                        },
                        "behavior": {
                            "oneOf": [
                                {
                                    "type": "integer",
                                    "enum": [
                                        0,
                                        1,
                                        2,
                                        3
                                    ],
                                    "default": 0
                                },
                                {
                                    "type": "string",
                                    "enum": [
                                        "disable",
                                        "delegate",
                                        "with_wakeup",
                                        "no_wakeup"
                                    ],
                                    "default": "disable"
                                }
                            ],
                            "description": "Select which TCP control flows are done in the internal thread. (maps to XLIO_TCP_CTL_THREAD)."
                        }
                    }
                },
                "signals": {
                    "type": "object",
                    "description": "controls signal handling behavior.",
                    "properties": {
                        "sigint": {
                            "type": "object",
                            "description": "controls signal handling behavior for SIGINT.",
                            "properties": {
                                "exit": {
                                    "type": "boolean",
                                    "default": true,
                                    "description": "Exit gracefully on SIGINT (maps to XLIO_HANDLE_SIGINTR)."
                                }
                            }
                        },
                        "sigsegv": {
                            "type": "object",
                            "description": "controls signal handling behavior for SIGSEGV.",
                            "properties": {
                                "backtrace": {
                                    "type": "boolean",
                                    "default": false,
                                    "description": "Print a backtrace on SIGSEGV if true (maps to XLIO_HANDLE_SIGSEGV)."
                                }
                            }
                        }
                    }
                },
                "mutex_over_spinlock": {
                    "type": "boolean",
                    "default": false,
                    "description": "Use mutex instead of spinlocks. (maps to XLIO_MULTILOCK)."
                }
            }
        },
        "xlio": {
            "type": "object",
            "description": "fundamental system or application configurations, specific only to libxlio. (not to DOCA TCP/IP)",
            "properties": {
                "log": {
                    "type": "object",
                    "description": "controls logging behavior for libxlio.",
                    "properties": {
                        "details": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 3,
                            "default": 0,
                            "description": "Sets details on each log line: 0=basic, 1=ThreadId, 2=ProcessId+ThreadId, 3=Time+ProcessId+ThreadId. (maps to XLIO_LOG_DETAILS)."
                        },
                        "colors": {
                            "type": "boolean",
                            "default": true,
                            "description": "Enable colored log output (maps to XLIO_LOG_COLORS; auto-disabled when logging to file)."
                        }
                    }
                },
                "daemon": {
                    "type": "object",
                    "description": "controls the XLIO daemon.",
                    "properties": {
                        "enable": {
                            "type": "boolean",
                            "default": false,
                            "description": "Enable the XLIO daemon (maps to XLIO_SERVICE_ENABLE)."
                        },
                        "dir": {
                            "type": "string",
                            "default": "/tmp/libxlio",
                            "description": "Working directory of the XLIO daemon (maps to XLIO_SERVICE_NOTIFY_DIR)."
                        }
                    }
                },
                "syscall": {
                    "type": "object",
                    "description": "controls system call behavior for libxlio.",
                    "properties": {
                        "fork_support": {
                            "type": "boolean",
                            "default": true,
                            "description": "Enables fork support for the library (maps to XLIO_FORK)."
                        },
                        "getsockname_dummy_send": {
                            "type": "boolean",
                            "default": false,
                            "description": "Use dummy packet send from getsockname() to warm up the caches. (maps to XLIO_TRIGGER_DUMMY_SEND_GETSOCKNAME)."
                        }
                    }
                },
                "memory": {
                    "type": "object",
                    "description": "controls memory allocation for libxlio.",
                    "properties": {
                        "external": {
                            "type": "object",
                            "description": "controls external memory allocation for libxlio.",
                            "properties": {
                                "limit": {
                                    "type": "integer",
                                    "default": 0,
                                    "description": "External memory usage limit for XLIO; 0 means no limit. (maps to XLIO_MEMORY_LIMIT_USER)."
                                }
                            }
                        }
                    }
                },
                "api": {
                    "type": "object",
                    "description": "controls the XLIO API.",
                    "properties": {
                        "socketextreme": {
                            "type": "boolean",
                            "default": false,
                            "description": "Enable socket extreme API (maps to XLIO_SOCKETEXTREME)."
                        },
                        "sendfile_limit": {
                            "type": "integer",
                            "default": 10737418240,
                            "description": "Maximum allowed bytes for sendfile calls. (maps to XLIO_ZC_CACHE_THRESHOLD)."
                        },
                        "hugepages": {
                            "type": "object",
                            "description": "controls hugepages allocation for the XLIO API.",
                            "properties": {
                                "size": {
                                    "type": "integer",
                                    "default": 2097152,
                                    "description": "Override hugepage size for the XLIO API. (maps to XLIO_USER_HUGE_PAGE_SIZE)."
                                }
                            }
                        }
                    }
                },
                "ring": {
                    "type": "object",
                    "description": "controls the XLIO rings.",
                    "properties": {
                        "tcp_2t_rules": {
                            "type": "boolean",
                            "default": true,
                            "description": "Enable TCP 2‑tuple offload rules (maps to XLIO_TCP_2T_RULES)."
                        },
                        "tcp_3t_rules": {
                            "type": "boolean",
                            "default": true,
                            "description": "Enable TCP 3‑tuple offload rules (maps to XLIO_TCP_3T_RULES)."
                        },
                        "tx": {
                            "type": "object",
                            "description": "controls transmission ring behavior and allocation.",
                            "properties": {
                                "alloc_logic": {
                                    "oneOf": [
                                        {
                                            "type": "integer",
                                            "enum": [
                                                0,
                                                1,
                                                10,
                                                20,
                                                30,
                                                31
                                            ],
                                            "default": 20
                                        },
                                        {
                                            "type": "string",
                                            "enum": [
                                                "per_interface",
                                                "per_ip_address",
                                                "per_socket",
                                                "per_thread",
                                                "per_cpuid",
                                                "per_core"
                                            ],
                                            "default": "per_thread"
                                        }
                                    ],
                                    "description": "Transmission ring allocation logic (maps to XLIO_RING_ALLOCATION_LOGIC_TX)."
                                },
                                "migration_ratio": {
                                    "type": "integer",
                                    "default": -1,
                                    "description": "Tx ring migration ratio; -1 disables migration (maps to XLIO_RING_MIGRATION_RATIO_TX)."
                                },
                                "max_on_device_memory": {
                                    "type": "integer",
                                    "minimum": 0,
                                    "maximum": 262144,
                                    "default": 0,
                                    "description": "Maximum Tx memory (in KB) on device; 0 means unlimited (maps to XLIO_RING_DEV_MEM_TX)."
                                }
                            }
                        },
                        "rx": {
                            "type": "object",
                            "description": "controls reception ring behavior and allocation.",
                            "properties": {
                                "alloc_logic": {
                                    "oneOf": [
                                        {
                                            "type": "integer",
                                            "enum": [
                                                0,
                                                1,
                                                10,
                                                20,
                                                30,
                                                31
                                            ],
                                            "default": 20
                                        },
                                        {
                                            "type": "string",
                                            "enum": [
                                                "per_interface",
                                                "per_ip_address",
                                                "per_socket",
                                                "per_thread",
                                                "per_cpuid",
                                                "per_core"
                                            ],
                                            "default": "per_thread"
                                        }
                                    ],
                                    "description": "Reception ring allocation logic (maps to XLIO_RING_ALLOCATION_LOGIC_RX)."
                                },
                                "migration_ratio": {
                                    "type": "integer",
                                    "default": -1,
                                    "description": "Rx ring migration ratio; -1 disables migration (maps to XLIO_RING_MIGRATION_RATIO_RX)."
                                }
                            }
                        },
                        "max_per_interface": {
                            "type": "integer",
                            "default": 0,
                            "description": "Maximum rings per interface; 0 means unlimited (maps to XLIO_RING_LIMIT_PER_INTERFACE)."
                        }
                    }
                },
                "batching_mode": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "enum": [
                                0,
                                1,
                                2
                            ],
                            "default": 1
                        },
                        {
                            "type": "string",
                            "enum": [
                                "disable",
                                "enable_and_reuse",
                                "enable"
                            ],
                            "default": "enable_and_reuse"
                        }
                    ],
                    "description": "Controls batching for sends/receives (performance optimization; maps to XLIO_BUFFER_BATCHING_MODE)."
                },
                "ts_conversion": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "enum": [
                                0,
                                1,
                                2,
                                3,
                                4,
                                5
                            ],
                            "default": 3
                        },
                        {
                            "type": "string",
                            "enum": [
                                "disable",
                                "raw_hw",
                                "best_possible",
                                "system",
                                "ptp",
                                "rtc"
                            ],
                            "default": "system"
                        }
                    ],
                    "description": "Timestamp conversion mode (maps to XLIO_HW_TS_CONVERSION; default 3 means system clock)."
                },
                "nginx": {
                    "type": "object",
                    "description": "controls NGINX-specific optimizations and behaviors.",
                    "properties": {
                        "src_port_stride": {
                            "type": "integer",
                            "default": 2,
                            "description": "Controls how source ports are spread across workers. (maps to XLIO_NGINX_SRC_PORT_STRIDE)."
                        },
                        "workers_num": {
                            "type": "integer",
                            "default": 0,
                            "description": "Controls how many nginx workers to support. (maps to XLIO_NGINX_WORKERS_NUM)."
                        },
                        "udp_pool_size": {
                            "type": "integer",
                            "default": 0,
                            "description": "Buffer pool size for Nginx+XLIO; 0 uses default. (maps to XLIO_NGINX_UDP_POOL_SIZE)."
                        },
                        "udp_socket_pool_reuse": {
                            "type": "boolean",
                            "default": false,
                            "description": "Enable udp socket pools with reuse (maps to XLIO_NGINX_UDP_POOL_RX_NUM_BUFFS_REUSE)."
                        },
                        "distribute_cq": {
                            "type": "boolean",
                            "default": false,
                            "description": "Nginx Distribute CQ (maps to XLIO_DISTRIBUTE_CQ)."
                        }
                    }
                },
                "udp": {
                    "type": "object",
                    "description": "controls UDP protocol behavior and optimizations.",
                    "properties": {
                        "buf": {
                            "type": "object",
                            "description": "controls UDP buffer management.",
                            "properties": {
                                "batch_size": {
                                    "type": "integer",
                                    "default": 16,
                                    "minimum": 1,
                                    "description": "Number of TX buffers fetched by a UDP socket at once. (no mapping to XLIO)."
                                }
                            }
                        },
                        "3t_rules": {
                            "type": "boolean",
                            "default": true,
                            "description": "Enable UDP 3‑tuple offload rules (maps to XLIO_UDP_3T_RULES)."
                        },
                        "only_mc_l2_rules": {
                            "type": "boolean",
                            "default": false,
                            "description": "Only install layer‑2 rules for UDP multicast (maps to XLIO_ETH_MC_L2_ONLY_RULES)."
                        },
                        "mc_loopback": {
                            "type": "boolean",
                            "default": true,
                            "description": "Enable UDP multicast loopback (maps to XLIO_TX_MC_LOOPBACK)."
                        },
                        "mc_flowtag_acceleration": {
                            "type": "boolean",
                            "default": false,
                            "description": "Accelerate flowtag for multicast traffic. (maps to XLIO_MC_FORCE_FLOWTAG)."
                        },
                        "mc_disable_flowtag": {
                            "type": "boolean",
                            "default": false,
                            "description": "Disable flowtag for multicast traffic. (maps to XLIO_MC_DISABLE_FLOWTAG)."
                        },
                        "yield_on_poll": {
                            "type": "boolean",
                            "default": false,
                            "description": "Yield CPU when no UDP packets are found during poll. (maps to XLIO_RX_POLL_YIELD)."
                        },
                        "offload_transition_poll_count": {
                            "type": "integer",
                            "default": 0,
                            "minimum": -1,
                            "maximum": 100000000,
                            "description": "Poll count for offload transition (-1 means infinite, 0 disabled; maps to XLIO_RX_POLL_INIT)."
                        },
                        "rx_kernel_fd_attention_level": {
                            "type": "integer",
                            "default": 100,
                            "minimum": 0,
                            "description": "When set to 0, switch to kernel FD for UDP Rx (threshold value; 0 means never; maps to XLIO_RX_UDP_POLL_OS_RATIO)."
                        }
                    }
                },
                "poll": {
                    "type": "object",
                    "description": "controls polling behavior for XLIO.",
                    "properties": {
                        "rx_poll_on_tx": {
                            "type": "boolean",
                            "default": false,
                            "description": "Poll Rx queues on transmit if true. (maps to XLIO_RX_POLL_ON_TX_TCP)."
                        },
                        "skip_cq_on_rx": {
                            "type": "integer",
                            "default": 0,
                            "description": "Policy for skipping completion‑queue checks on Rx. (maps to XLIO_SKIP_POLL_IN_RX)."
                        },
                        "rx_cq_wait_ctrl": {
                            "type": "boolean",
                            "default": false,
                            "description": "Ensures fd is added only to sleeping sockets epoll descriptors, reducing the kernel scan overhead. (maps to XLIO_RX_CQ_WAIT_CTRL)."
                        }
                    }
                },
                "cq": {
                    "type": "object",
                    "description": "controls completion queue behavior.",
                    "properties": {
                        "interrupt_per_packet": {
                            "type": "boolean",
                            "default": false,
                            "description": "Generate an interrupt for every received packet if true. (maps to XLIO_INTERNAL_THREAD_ARM_CQ)."
                        },
                        "keep_full": {
                            "type": "boolean",
                            "default": true,
                            "description": "Keep the completion queue full. (maps to XLIO_CQ_KEEP_QP_FULL)."
                        },
                        "periodic_drain_msec": {
                            "type": "integer",
                            "default": 10,
                            "minimum": 0,
                            "description": "Interval between Drain periods (in milliseconds) for the CQ. (maps to XLIO_PROGRESS_ENGINE_INTERVAL)."
                        },
                        "periodic_drain_max_cqes": {
                            "type": "integer",
                            "default": 10000,
                            "minimum": 0,
                            "description": "Max number of CQEs processed during a periodic drain. (maps to XLIO_PROGRESS_ENGINE_WCE_MAX)."
                        },
                        "rx_drain_rate_nsec": {
                            "type": "integer",
                            "default": 0,
                            "minimum": 0,
                            "description": "Drain rate (in nanoseconds) for Rx; 0 disables rate control. (maps to XLIO_RX_CQ_DRAIN_RATE_NSEC)."
                        },
                        "rx_poll_count": {
                            "type": "integer",
                            "default": 100000,
                            "minimum": -1,
                            "maximum": 100000000,
                            "description": "Poll operations count for Rx (-1 means infinite, 0 disabled; maps to XLIO_RX_POLL)."
                        },
                        "interrupt_moderation": {
                            "type": "object",
                            "description": "controls interrupt moderation for completion queues.",
                            "properties": {
                                "enable": {
                                    "type": "boolean",
                                    "default": true,
                                    "description": "Enable interrupt moderation (maps to XLIO_CQ_MODERATION_ENABLE)."
                                },
                                "packet_count": {
                                    "type": "integer",
                                    "default": 48,
                                    "description": "Packet count threshold before an interrupt (maps to XLIO_CQ_MODERATION_COUNT)."
                                },
                                "period_usec": {
                                    "type": "integer",
                                    "default": 50,
                                    "description": "Interrupt moderation period in microseconds (maps to XLIO_CQ_MODERATION_PERIOD_USEC)."
                                },
                                "adaptive_count": {
                                    "type": "integer",
                                    "default": 560,
                                    "description": "Adaptive moderation count threshold (maps to XLIO_CQ_AIM_MAX_COUNT)."
                                },
                                "adaptive_period_usec": {
                                    "type": "integer",
                                    "default": 250,
                                    "description": "Adaptive moderation period (in microseconds; maps to XLIO_CQ_AIM_MAX_PERIOD_USEC)."
                                },
                                "adaptive_change_frequency_msec": {
                                    "type": "integer",
                                    "default": 250,
                                    "description": "Frequency (in milliseconds) to update adaptive moderation; 0 disables adaptation (maps to XLIO_CQ_AIM_INTERVAL_MSEC)."
                                },
                                "interrupt_per_sec": {
                                    "type": "integer",
                                    "default": 5000,
                                    "description": "Target interrupt rate per second (maps to XLIO_CQ_AIM_INTERRUPTS_RATE_PER_SEC)."
                                }
                            }
                        },
                        "buf": {
                            "type": "object",
                            "description": "controls buffer management for completion queues.",
                            "properties": {
                                "rx_spare": {
                                    "type": "integer",
                                    "default": 256,
                                    "description": "Minimum spare Rx buffers in the CQ. (maps to XLIO_QP_COMPENSATION_LEVEL)."
                                }
                            }
                        }
                    }
                },
                "sq": {
                    "type": "object",
                    "description": "controls send queue behavior.",
                    "properties": {
                        "buf": {
                            "type": "object",
                            "description": "controls buffer management for send queues.",
                            "properties": {
                                "size": {
                                    "type": "integer",
                                    "default": 0,
                                    "minimum": 0,
                                    "maximum": 65280,
                                    "description": "Size of each TX data buffer element; 0 for auto (must be at least the MTU if manually set; maps to XLIO_TX_BUF_SIZE)."
                                },
                                "batch_size": {
                                    "type": "integer",
                                    "default": 16,
                                    "minimum": 1,
                                    "description": "Number of TX buffers fetched by a TCP socket at once. (maps to XLIO_TX_BUFS_BATCH_TCP)."
                                },
                                "global_array_size": {
                                    "type": "integer",
                                    "default": 200000,
                                    "minimum": 0,
                                    "description": "Global TX buffer array size for all SQ buffers. (maps to XLIO_TX_BUFS)."
                                }
                            }
                        },
                        "prefetch": {
                            "type": "object",
                            "description": "controls prefetching for send queues.",
                            "properties": {
                                "cache_size": {
                                    "type": "integer",
                                    "default": 256,
                                    "minimum": 0,
                                    "description": "Prefetch cache size; 0 disables prefetch."
                                }
                            }
                        },
                        "wre": {
                            "type": "object",
                            "description": "controls work request elements for send queues.",
                            "properties": {
                                "global_array_size": {
                                    "type": "integer",
                                    "default": 32768,
                                    "minimum": 0,
                                    "description": "Global array size for SQ work request elements."
                                },
                                "completion_batch_size": {
                                    "type": "integer",
                                    "default": 64,
                                    "minimum": 1,
                                    "maximum": 64,
                                    "description": "Number of WRE completions batched per poll."
                                },
                                "max_inline_size": {
                                    "type": "integer",
                                    "default": 204,
                                    "minimum": 0,
                                    "maximum": 884,
                                    "description": "Maximum inline size for SQ postings; 0 disables inline sending (maps to XLIO_TX_MAX_INLINE)."
                                }
                            }
                        },
                        "nonblocking": {
                            "type": "object",
                            "description": "controls non-blocking behavior for send queues.",
                            "properties": {
                                "eagain": {
                                    "type": "boolean",
                                    "default": false,
                                    "description": "Return EAGAIN on nonblocking send instead of waiting."
                                }
                            }
                        },
                        "segments": {
                            "type": "object",
                            "description": "controls segmentation for send queues.",
                            "properties": {
                                "socket_batch_size": {
                                    "type": "integer",
                                    "default": 64,
                                    "minimum": 1,
                                    "description": "Number of segments batched per socket."
                                },
                                "ring_batch_size": {
                                    "type": "integer",
                                    "default": 1024,
                                    "minimum": 1,
                                    "description": "Number of segments batched per ring operation."
                                },
                                "pool_batch_size": {
                                    "type": "integer",
                                    "default": 1024,
                                    "minimum": 1,
                                    "description": "Number of segments batched per ring operation."
                                }
                            }
                        },
                        "tso": {
                            "type": "object",
                            "description": "controls TCP segmentation offload.",
                            "properties": {
                                "enable": {
                                    "oneOf": [
                                        {
                                            "type": "integer",
                                            "enum": [
                                                0,
                                                1,
                                                2
                                            ],
                                            "default": 2
                                        },
                                        {
                                            "type": "string",
                                            "enum": [
                                                "disable",
                                                "enable",
                                                "ethtool_auto"
                                            ],
                                            "default": "ethtool_auto"
                                        }
                                    ],
                                    "description": "Set TCP segmentation offload policy for XLIO's sends (maps to XLIO_TSO)."
                                },
                                "max_size": {
                                    "type": "integer",
                                    "default": 262144,
                                    "minimum": 1,
                                    "description": "TSO max size. (maps to XLIO_TSO_MAX_SIZE)."
                                }
                            }
                        },
                        "tls_offload": {
                            "type": "object",
                            "description": "controls TLS offload for send operations.",
                            "properties": {
                                "enable": {
                                    "type": "boolean",
                                    "default": true,
                                    "description": "Enable TLS offload for outgoing traffic."
                                },
                                "dek_cache_max_size": {
                                    "type": "integer",
                                    "default": 1024,
                                    "description": "Set TX TLS Offload DEK max cache size (maps to XLIO_HIGH_WMARK_DEK_CACHE_SIZE)."
                                },
                                "dek_cache_min_size": {
                                    "type": "integer",
                                    "default": 512,
                                    "description": "Set TX TLS Offload DEK min cache size (maps to XLIO_LOW_WMARK_DEK_CACHE_SIZE)."
                                }
                            }
                        }
                    }
                },
                "rq": {
                    "type": "object",
                    "description": "controls receive queue behavior.",
                    "properties": {
                        "buf": {
                            "type": "object",
                            "description": "controls buffer management for receive queues.",
                            "properties": {
                                "size": {
                                    "type": "integer",
                                    "default": 0,
                                    "minimum": 0,
                                    "maximum": 65280,
                                    "description": "Receive buffer size; 0 means auto (must be at least the MTU if manually set)."
                                },
                                "global_array_size": {
                                    "type": "integer",
                                    "default": 32768,
                                    "minimum": 0,
                                    "description": "Global pool size for all RQ buffers."
                                },
                                "override_rcvbuf_limit": {
                                    "type": "integer",
                                    "default": 65536,
                                    "description": "Override for the OS receive buffer limit (maps to XLIO_RX_BYTES_MIN)."
                                },
                                "batch_size": {
                                    "type": "integer",
                                    "default": 16,
                                    "minimum": 1,
                                    "description": "Number of RX buffers fetched by a TCP socket at once. (no mapping to XLIO)."
                                }
                            }
                        },
                        "wre": {
                            "type": "object",
                            "description": "controls work request elements for receive queues.",
                            "properties": {
                                "global_array_size": {
                                    "type": "integer",
                                    "default": 16000,
                                    "minimum": 0,
                                    "description": "Global array size for RQ work request elements."
                                },
                                "rx_batch_size": {
                                    "type": "integer",
                                    "default": 1024,
                                    "minimum": 1,
                                    "maximum": 1024,
                                    "description": "Batch size for receive completions."
                                }
                            }
                        },
                        "prefetch": {
                            "type": "object",
                            "description": "controls prefetching for receive queues.",
                            "properties": {
                                "cache_size": {
                                    "type": "integer",
                                    "default": 256,
                                    "minimum": 32,
                                    "description": "Receive prefetch cache size; 0 disables prefetch (minimum is 32)."
                                },
                                "fetch_before_poll": {
                                    "type": "boolean",
                                    "default": false,
                                    "description": "Prefetch data before polling if true."
                                }
                            }
                        },
                        "lro": {
                            "oneOf": [
                                {
                                    "type": "integer",
                                    "enum": [
                                        0,
                                        1,
                                        2
                                    ],
                                    "default": 2
                                },
                                {
                                    "type": "string",
                                    "enum": [
                                        "disable",
                                        "enable",
                                        "ethtool_auto"
                                    ],
                                    "default": "ethtool_auto"
                                }
                            ],
                            "description": "Large Receive Offload policy (maps to XLIO_LRO)."
                        },
                        "tls_offload": {
                            "type": "object",
                            "description": "controls TLS offload for receive operations.",
                            "properties": {
                                "enable": {
                                    "type": "boolean",
                                    "default": false,
                                    "description": "Enable TLS offload for incoming traffic. (maps to XLIO_UTLS_RX)."
                                }
                            }
                        },
                        "max_gro_streams": {
                            "type": "integer",
                            "default": 32,
                            "description": "Maximum number of GRO streams; 0 disables GRO. (maps to XLIO_GRO_STREAMS_MAX)."
                        },
                        "striding": {
                            "type": "object",
                            "description": "controls striding for receive queue buffer management.",
                            "properties": {
                                "enable": {
                                    "type": "boolean",
                                    "default": true,
                                    "description": "Enable striding for RQ buffer management. (maps to XLIO_STRQ)."
                                },
                                "strides": {
                                    "type": "integer",
                                    "default": 2048,
                                    "minimum": 512,
                                    "maximum": 65536,
                                    "description": "Number of strides per WQE (must be a power of 2; maps to XLIO_STRQ_NUM_STRIDES)."
                                },
                                "stride_size": {
                                    "type": "integer",
                                    "default": 64,
                                    "minimum": 64,
                                    "maximum": 8192,
                                    "description": "Size (in bytes) of each stride (must be a power of 2; maps to XLIO_STRQ_STRIDE_SIZE_BYTES)."
                                },
                                "spare_strides": {
                                    "type": "integer",
                                    "default": 32768,
                                    "description": "Extra strides reserved. (maps to XLIO_STRQ_STRIDES_COMPENSATION_LEVEL)."
                                }
                            }
                        }
                    }
                },
                "spec": {
                    "oneOf": [
                        {
                            "type": "integer",
                            "enum": [
                                0,
                                1,
                                2,
                                3,
                                4,
                                5,
                                6
                            ],
                            "default": 0
                        },
                        {
                            "type": "string",
                            "enum": [
                                "none",
                                "sockperf_ultra_latency",
                                "sockperf_latency",
                                "nginx",
                                "nginx_dpu",
                                "nvme_bf3",
                                "all"
                            ],
                            "default": "none"
                        }
                    ],
                    "description": "DEPRECATED - XLIO Specs (maps to XLIO_SPEC)."
                }
            }
        },
        "net": {
            "type": "object",
            "description": "network-related configuration parameters, managing aspects of network functionality such as TCP settings, offloading capabilities, neighbor interactions, and polling mechanisms.",
            "properties": {
                "offload": {
                    "type": "object",
                    "description": "controls hardware offload capabilities and transport behavior.",
                    "properties": {
                        "enable": {
                            "type": "boolean",
                            "default": true,
                            "description": "Enable hardware offloads on the network interface."
                        },
                        "transport_control": {
                            "type": "array",
                            "default": [],
                            "description": "Transport control per apps. (maps to libxlio.conf).",
                            "items": {
                                "type": "object",
                                "properties": {
                                    "id": {
                                        "type": "string",
                                        "description": "Identifier for the transport control"
                                    },
                                    "name": {
                                        "type": "string",
                                        "description": "Name of the application"
                                    },
                                    "actions": {
                                        "type": "array",
                                        "description": "List of actions for the transport control",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        },
                        "app_id": {
                            "type": "string",
                            "default": "*",
                            "description": "App id that effectively selects the transport_control actions. (maps to XLIO_APPLICATION_ID)."
                        }
                    }
                },
                "deferred_close": {
                    "type": "boolean",
                    "default": false,
                    "description": "Defer closing of fd to when closing the socket. (maps to XLIO_DEFERRED_CLOSE)."
                },
                "tcp": {
                    "type": "object",
                    "description": "controls TCP settings.",
                    "properties": {
                        "congestion_control": {
                            "oneOf": [
                                {
                                    "type": "integer",
                                    "enum": [
                                        0,
                                        1,
                                        2
                                    ],
                                    "default": 0
                                },
                                {
                                    "type": "string",
                                    "enum": [
                                        "lwip",
                                        "cubic",
                                        "disable"
                                    ],
                                    "default": "lwip"
                                }
                            ],
                            "description": "TCP congestion control algorithm (maps to XLIO_TCP_CC_ALGO)."
                        },
                        "wmem": {
                            "type": "integer",
                            "default": 1048576,
                            "description": "Per-socket write buffer size in bytes (maps to XLIO_TCP_SEND_BUFFER_SIZE)."
                        },
                        "max_syn_rate": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 100000,
                            "default": 0,
                            "description": "Maximum SYNs per second (0 means unlimited, maps to XLIO_TCP_MAX_SYN_RATE)."
                        },
                        "linger_0": {
                            "type": "boolean",
                            "default": false,
                            "description": "Set TCP linger time to 0 if true. (maps to XLIO_TCP_ABORT_ON_CLOSE)."
                        },
                        "push": {
                            "type": "boolean",
                            "default": true,
                            "description": "Set TCP Push flag. (maps to XLIO_TCP_PUSH_FLAG)."
                        },
                        "nodelay": {
                            "type": "object",
                            "description": "controls TCP_NODELAY behavior (Nagle's algorithm).",
                            "properties": {
                                "enable": {
                                    "type": "boolean",
                                    "default": false,
                                    "description": "Disable Nagle's algorithm via TCP_NODELAY when true (maps to XLIO_TCP_NODELAY)."
                                },
                                "byte_threshold": {
                                    "type": "integer",
                                    "default": 0,
                                    "description": "Data threshold for flush; 0 flushes immediately (maps to XLIO_TCP_NODELAY_TRESHOLD)."
                                }
                            }
                        },
                        "quickack": {
                            "type": "boolean",
                            "default": false,
                            "description": "Enable quick ACKs if true (maps to XLIO_TCP_QUICKACK)."
                        },
                        "timestamps": {
                            "oneOf": [
                                {
                                    "type": "integer",
                                    "enum": [
                                        0,
                                        1,
                                        2
                                    ],
                                    "default": 0
                                },
                                {
                                    "type": "string",
                                    "enum": [
                                        "disable",
                                        "enable",
                                        "os"
                                    ],
                                    "default": "disable"
                                }
                            ],
                            "description": "TCP timestamps mode (2 means OS default)."
                        },
                        "timer_msec": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 100,
                            "description": "Timer interval in milliseconds for TCP retransmissions/checks (maps to XLIO_TCP_TIMER_RESOLUTION_MSEC)."
                        },
                        "offload": {
                            "type": "object",
                            "description": "controls TCP offload parameters.",
                            "properties": {
                                "enable_posix_ctl": {
                                    "type": "boolean",
                                    "default": true,
                                    "description": "Allow POSIX sysctl control of TCP offload parameters (maps to XLIO_OFFLOADED_SOCKETS control)."
                                },
                                "allow_privileged_sockopt": {
                                    "type": "boolean",
                                    "default": true,
                                    "description": "Allow privileged sock opt. (maps to XLIO_ALLOW_PRIVILEGED_SOCK_OPT)."
                                }
                            }
                        },
                        "mss": {
                            "type": "integer",
                            "minimum": 0,
                            "maximum": 8960,
                            "default": 0,
                            "description": "Maximum Segment Size; 0 means auto (maps to XLIO_MSS)."
                        }
                    }
                },
                "mtu": {
                    "type": "integer",
                    "minimum": 0,
                    "maximum": 9000,
                    "default": 0,
                    "description": "Override MTU (0 uses OS setting; maps to XLIO_MTU)."
                },
                "neighbor": {
                    "type": "object",
                    "description": "controls ARP and neighbor discovery behavior.",
                    "properties": {
                        "update_interval_msec": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 10000,
                            "description": "Neighbor update interval in milliseconds (maps to XLIO_NETLINK_TIMER)."
                        },
                        "uc_arp_retries": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 3,
                            "description": "ARP retry count for unicast; retries before failure. (maps to XLIO_NEIGH_UC_ARP_QUATA)."
                        },
                        "uc_arp_delay_msec": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 10000,
                            "description": "Delay (in milliseconds) before resending ARP. (maps to XLIO_NEIGH_UC_ARP_DELAY_MSEC)"
                        },
                        "errors_before_reset": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 1,
                            "description": "Number of errors before neighbor resets. (maps to XLIO_NEIGH_NUM_ERR_RETRIES)."
                        }
                    }
                },
                "poll": {
                    "type": "object",
                    "description": "controls network polling behavior and performance.",
                    "properties": {
                        "rx_duration_usec": {
                            "type": "integer",
                            "minimum": -1,
                            "maximum": 100000000,
                            "default": 100000,
                            "description": "Poll duration in microseconds for Rx (-1 means infinite, maps to XLIO_RX_POLL)."
                        },
                        "kernel_fd_attention_level": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 10,
                            "description": "Kernel FD attention threshold (0 means never; maps to XLIO_RING_KERNEL_FD_ATTENTION_LEVEL)."
                        },
                        "offload_fd_priority": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 4,
                            "description": "Priority for offload file descriptors (maps to related XLIO parameter)."
                        },
                        "rx_buffer_max_count": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 16,
                            "description": "Maximum number of Rx buffers per poll pass."
                        }
                    }
                },
                "doca_eth": {
                    "type": "object",
                    "description": "controls DOCA Ethernet operations.",
                    "properties": {
                        "max_elements_queue_size": {
                            "type": "integer",
                            "minimum": 0,
                            "default": 32768,
                            "description": "Maximum queue size for DOCA Ethernet operations."
                        }
                    }
                }
            }
        }
    }
}